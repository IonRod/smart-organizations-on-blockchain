<!DOCTYPE html>
<html>
	<head>
		<title>Document1</title>
		<script src="./web3.min.js"></script>
	</head>
	<body>
		<input id="input"  type="text" >
		<button id="button">Set</button>
		<pre id="output">
			
		</pre>

		<script type="text/javascript">
			
			var web3 = new Web3(new Web3.providers.HttpProvider("http://10.15.42.168:8545"));
			console.log(web3);
			web3.eth.defaultAccount = web3.eth.accounts[0];
			//abi - application binary interface (похоже на JSON)
			var contract1ABI = web3.eth.contract([
		    {
		      "constant": false,
		      "inputs": [],
		      "name": "getFoo",
		      "outputs": [
		        {
		          "name": "",
		          "type": "string"
		        }
		      ],
		      "payable": false,
		      "stateMutability": "nonpayable",
		      "type": "function"
		    },
		    {
		      "constant": true,
		      "inputs": [],
		      "name": "foo",
		      "outputs": [
		        {
		          "name": "",
		          "type": "string"
		        }
		      ],
		      "payable": false,
		      "stateMutability": "view",
		      "type": "function"
		    },
		    {
		      "constant": false,
		      "inputs": [
		        {
		          "name": "_foo",
		          "type": "string"
		        }
		      ],
		      "name": "setFoo",
		      "outputs": [],
		      "payable": false,
		      "stateMutability": "nonpayable",
		      "type": "function"
		    }
		  ])
			var foo = contract1ABI.at('0x312dd89f17647de792f7290222070d83d5467376'); // публикует контракт от имени адреса
			

			var input = document.getElementById("input");
			var button = document.getElementById('button');
			var output = document.getElementById('output');
			button.addEventListener('click', function(){
				foo.setFoo(input.value);
				foo.getFoo.call(function(err, res) {
					output.innerHTML = res
				});
				/*foo.getStroka.call().then(function(stroka){
				    console.log("s=%d", stroka);
				});*/
			});
		</script>

	</body>
</html>